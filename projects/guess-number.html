<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .game-container {
            max-width: 500px;
            margin: 50px auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            color: white;
        }
        .number-display {
            font-size: 4rem;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .guess-input {
            font-size: 1.5rem;
            text-align: center;
            border: none;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
        .btn-guess {
            background: #ff6b6b;
            border: none;
            border-radius: 10px;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            transition: all 0.3s;
        }
        .btn-guess:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }
        .btn-new-game {
            background: #4ecdc4;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            color: white;
            font-weight: bold;
        }
        .message {
            font-size: 1.2rem;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
        }
        .score {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }
        .attempts {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .attempt-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
        }
        .attempt-dot.used {
            background: #ff6b6b;
        }
        .attempt-dot.correct {
            background: #4ecdc4;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="text-center my-4">üéØ –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ</h1>
                <div class="game-container">
                    <h2 class="text-center mb-4">–£–≥–∞–¥–∞–π—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100</h2>
                    
                    <div class="number-display" id="numberDisplay">?</div>
                    
                    <div class="message" id="message">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —á–∏—Å–ª–æ –∏ –Ω–∞–∂–º–∏—Ç–µ "–£–≥–∞–¥–∞—Ç—å"</div>
                    
                    <div class="score">
                        <div class="row text-center">
                            <div class="col-4">
                                <h5>–ü–æ–ø—ã—Ç–∫–∏</h5>
                                <span id="attemptsCount">0</span>/10
                            </div>
                            <div class="col-4">
                                <h5>–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h5>
                                <span id="bestScore">-</span>
                            </div>
                            <div class="col-4">
                                <h5>–ò–≥—Ä—ã</h5>
                                <span id="gamesPlayed">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="attempts" id="attemptsDots"></div>
                    
                    <div class="text-center">
                        <input type="number" class="form-control guess-input" id="guessInput" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ" min="1" max="100">
                        <button class="btn btn-guess mt-3" onclick="makeGuess()">–£–≥–∞–¥–∞—Ç—å</button>
                        <br>
                        <button class="btn btn-new-game mt-3" onclick="newGame()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <a href="../index.html" class="btn btn-outline-primary">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        let secretNumber;
        let attempts = 0;
        let maxAttempts = 10;
        let gameOver = false;
        let bestScore = localStorage.getItem('bestScore') || null;
        let gamesPlayed = parseInt(localStorage.getItem('gamesPlayed')) || 0;

        function initGame() {
            secretNumber = Math.floor(Math.random() * 100) + 1;
            attempts = 0;
            gameOver = false;
            updateDisplay();
            updateAttemptsDots();
            document.getElementById('guessInput').value = '';
            document.getElementById('guessInput').disabled = false;
        }

        function updateDisplay() {
            const display = document.getElementById('numberDisplay');
            if (gameOver) {
                display.textContent = secretNumber;
            } else {
                display.textContent = '?';
            }
        }

        function updateAttemptsDots() {
            const container = document.getElementById('attemptsDots');
            container.innerHTML = '';
            for (let i = 0; i < maxAttempts; i++) {
                const dot = document.createElement('div');
                dot.className = 'attempt-dot';
                if (i < attempts) {
                    dot.classList.add('used');
                }
                container.appendChild(dot);
            }
        }

        function makeGuess() {
            if (gameOver) return;

            const input = document.getElementById('guessInput');
            const guess = parseInt(input.value);
            
            if (isNaN(guess) || guess < 1 || guess > 100) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100', 'warning');
                return;
            }

            attempts++;
            updateAttemptsDots();
            document.getElementById('attemptsCount').textContent = attempts;

            if (guess === secretNumber) {
                gameOver = true;
                showMessage(`üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ –∑–∞ ${attempts} –ø–æ–ø—ã—Ç–æ–∫!`, 'success');
                updateBestScore();
                updateDisplay();
                input.disabled = true;
            } else if (attempts >= maxAttempts) {
                gameOver = true;
                showMessage(`üòî –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ: ${secretNumber}`, 'danger');
                updateDisplay();
                input.disabled = true;
            } else {
                const hint = guess < secretNumber ? '–±–æ–ª—å—à–µ' : '–º–µ–Ω—å—à–µ';
                showMessage(`–ù–µ —É–≥–∞–¥–∞–ª–∏! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ ${hint} —á–µ–º ${guess}`, 'info');
            }
        }

        function showMessage(text, type) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.className = `message alert alert-${type}`;
        }

        function updateBestScore() {
            if (bestScore === null || attempts < bestScore) {
                bestScore = attempts;
                localStorage.setItem('bestScore', bestScore);
                document.getElementById('bestScore').textContent = bestScore;
            }
        }

        function newGame() {
            gamesPlayed++;
            localStorage.setItem('gamesPlayed', gamesPlayed);
            document.getElementById('gamesPlayed').textContent = gamesPlayed;
            initGame();
            showMessage('–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –£–≥–∞–¥–∞–π—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100', 'info');
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter
        document.getElementById('guessInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                makeGuess();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.getElementById('bestScore').textContent = bestScore || '-';
        document.getElementById('gamesPlayed').textContent = gamesPlayed;
        initGame();
    </script>
</body>
</html>
